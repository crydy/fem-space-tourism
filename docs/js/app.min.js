(()=>{"use strict";function e(e){const t=[];return e.forEach((e=>{const n=new Promise(((t,n)=>{const o=new Image;o.src=e,o.onload=t,o.onerror=n}));t.push(n)})),Promise.all(t)}function t(e){return e.replace(/(png|jpg)/g,"webp")}function n(e,t){let n=e+Math.random()*(t+1-e);return Math.floor(n)}function o(e,t,n=0){const o=Math.random()*(t-e)+e;if(n>0){const e=10**n;return Math.round(o*e)/e}return o}const i=new Map;function s(e,t,n){let o;i.has(e)||(a(e,250),e.classList.add(t)),n&&setTimeout((()=>{n()}),250),i.has(e)&&clearTimeout(i.get(e)),o=setTimeout((()=>{a(e,250),e.classList.remove(t),i.delete(e)}),300),i.has(e)||i.set(e,o)}function a(e,t,n){e.style.transition=n?`${n} ${t/1e3}s`:t/1e3+"s",e.transitionMode=n,setTimeout((()=>{e.transitionMode=null,e.style.transition=""}),t)}function r(e){const t=document.createElement("div");t.style.display="none",document.body.appendChild(t);const n=window.getComputedStyle(t),o=parseFloat(n.fontSize),i={medium:n.getPropertyValue("--breakpoint-medium"),large:n.getPropertyValue("--breakpoint-large"),xlarge:n.getPropertyValue("--breakpoint-xlarge")};if(document.body.removeChild(t),"px"===e){const e={};for(const t in i)e[t]=parseFloat(i[t])*o;return e}return i}function l(){return!window.matchMedia(`(min-width: ${r().medium})`).matches}function c(){return window.matchMedia(`(min-width: ${r().large})`).matches}const d={jsonDataPath:"files/data.json",crewPageAutosliding:{slideInterval:8e3,slideDelayAfterUserClick:15e3},jsTransitionClasses:{text:"js-transition-text",image:"js-transition-image",imagePlanet:"js-transition-image-planet",imageTech:"js-transition-image-technology"},firstPlanIMGSet(e){const t=e?"webp":"png";return{homePage:{mobile:`url("./img/home/background-home-mobile-front.${t}")`,tablet:`url("./img/home/background-home-tablet-front.${t}")`,desktop:`url("./img/home/background-home-desktop-front.${t}")`},crewPage:{mobile:`url("./img/crew/background-crew-mobile-front.${t}")`,tablet:`url("./img/crew/background-crew-tablet-front.${t}")`,desktop:`url("./img/crew/background-crew-desktop-front.${t}")`}}}},u="#fff",m={numStarsOnStart:30,numStarsMax:50,movement:!0,minMoveSpeed:2,maxMoveSpeed:5,intervalTiming:1500,minAppearDuration:1e3,maxAppearDuration:6e3,minDisappearDuration:5e3,maxDisappearDuration:15e3,minTransitionDuration:1500,maxTransitionDuration:3e3,minStarSize:.5,maxStarSize:3.2,minOpacity:.7,maxOpacity:1,showHalo:!1,haloColor:"#fff",minHaloBlur:4,maxHaloBlur:15,minHaloOpacity:.4,maxHaloOpacity:.8};function p(i,a){const r=window.location.pathname.split("/").pop().split(".")[0],u=document.querySelectorAll("[data-js-fill]"),p=d.jsTransitionClasses,h=d.crewPageAutosliding.slideInterval,y=d.crewPageAutosliding.slideDelayAfterUserClick,g=d.firstPlanIMGSet(a);let f;if("index"===r)return x(),void M(g.homePage);function b(e){if("technology"===r){const n=[];return e.forEach((e=>{a?(n.push(t(e.images.portrait)),n.push(t(e.images.landscape))):(n.push(e.images.portrait),n.push(e.images.landscape))})),n}return e.map((e=>a?e.images.webp:e.images.png))}function w(e,t,n){Array.from(t).forEach((t=>{(t===e||t.classList.contains(n))&&t.classList.toggle(n),t===e&&t.setAttribute("tabindex","-1"),"-1"===t.getAttribute("tabindex")&&t!==e&&t.setAttribute("tabindex","0")}))}function k(e,n){u.forEach((o=>{if("image"===o.id){if(e.images.png){const i=a?"webp":"png",r=()=>{o.src=e.images[i],o.alt=`${e.name} photo`};if(n){const l="planet-image"===o.dataset.jsFill?p.imagePlanet:p.image;s(o,l,r)}else r()}if(e.images.portrait){const d=()=>{const n=a?t(e.images.portrait):e.images.portrait,i=a?t(e.images.landscape):e.images.landscape;o.src=c()?n:i,o.alt=`${e.name} photo`};if(n){const u=c()?p.image:p.imageTech;s(o,u,d)}else d()}}else{function m(){o.innerText=e[o.id]}n?s(o,p.text,m):m()}}))}function v(...e){e.forEach((e=>{document.querySelectorAll(e).forEach((e=>{s(e,"js-transition-text")}))}))}function x(){const e=function(){const e=document.createElement("div");return e.classList.add("space-overlay"),e.style.position="relative",e.style.position="fixed",e.style.zIndex="-1",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e}();document.body.appendChild(e),function(e,t=m){const{numStarsOnStart:i,numStarsMax:s,movement:a,minMoveSpeed:r,maxMoveSpeed:l,intervalTiming:c,minAppearDuration:d,maxAppearDuration:u,minDisappearDuration:p,maxDisappearDuration:h,minTransitionDuration:y,maxTransitionDuration:g,minStarSize:f,maxStarSize:b,minOpacity:w,maxOpacity:k,showHalo:v,haloColor:x,minHaloBlur:M,maxHaloBlur:S,minHaloOpacity:A,maxHaloOpacity:L}=t;function E(e,t,i,s){const a=n(S,M),r=document.createElement("div");if(r.classList.add("star"),r.style.position="absolute",r.style.zIndex="-1",r.style.width=e+"px",r.style.height=e+"px",r.style.backgroundColor=function(e=0,t=100,n=0,o=100){const i="0123456789ABCDEF";let s="#";const a=function(e,t,n){let o,i,s;if(e/=360,n/=100,0==(t/=100))o=i=s=n;else{const a=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),r=n<.5?n*(1+t):n+t-n*t,l=2*n-r;o=Math.round(255*a(l,r,e+1/3)),i=Math.round(255*a(l,r,e)),s=Math.round(255*a(l,r,e-1/3))}return[o,i,s]}(Math.floor(181*Math.random())+180,Math.floor(Math.random()*(t-e+1))+e,Math.floor(Math.random()*(o-n+1))+n);for(let e=0;e<3;e++)s+=i[Math.floor(a[e]/16)],s+=i[a[e]%16];return s}(2,14,40,90),r.style.borderRadius="50%",r.style.opacity=t,r.style.transition="opacity linear",r.style.left=i+"px",r.style.top=s+"px",v){const t=document.createElement("div");t.classList.add("halo"),t.style.position="absolute",t.style.width=e+"px",t.style.height=e+"px",t.style.borderRadius="50%",t.style.backgroundColor=x,t.style.filter=`blur(${a}px)`,t.style.opacity=o(A,L,1),r.appendChild(t)}return r}function T(e,t,n,o){if(e){const e=o/2;return Math.floor(Math.random()*(n-t-e+1))+t}return Math.floor(Math.random()*(n-t+1))+t}function C(e,t,n,o){if(e){const e=o/2;return Math.floor(Math.random()*(n-t-e+1))+t+e}return Math.floor(Math.random()*(n-t+1))+t}!function(){let t=!1;const m=()=>{const c=e.getBoundingClientRect(),m=c.left,v=c.right-b,x=c.top,M=c.bottom-b,S=c.left+c.width/2,A=c.top+c.height/2,L=e.querySelectorAll(".star").length;if(L>=s)return;const D=t?s-L:i;for(let I=0;I<D;I++){const P=o(f,b,1),$=T(a,m,v,P),O=C(a,x,M,P),j=n(d,u),q=n(p,h),z=o(w,k,1),_=o(y/1e3,g/1e3,1),B=E(P,z,$,O);B.style.transitionDuration=`${_}s`,e.appendChild(B),t&&(B.style.opacity=0),setTimeout((()=>{B.style.opacity=z,setTimeout((()=>{B.style.opacity=0,setTimeout((()=>{B.remove()}),1e3*_)}),q)}),j);const V=j+q+1e3*_;if(a){const H=B.getBoundingClientRect().left-S,R=B.getBoundingClientRect().top-A;let F=Math.sqrt(H**2+R**2)/o(r,l,1)*1e3;function U(){B.style.transition=`\n                            left ${F}ms linear,\n                            top ${F}ms linear,\n                            ${B.style.transition}\n                        `,B.style.left=`${$+H}px`,B.style.top=`${O+R}px`,setTimeout(U,F)}V>F&&(F=V),t?setTimeout((()=>{U()}),j):(U(),setTimeout((()=>{t=!0}),j))}}};m(),setInterval(m,c)}()}(e)}function M(e){const t=function(){const e=document.createElement("div");return e.classList.add("planet-in-front"),e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100%",e.style.zIndex=-1,e.style.backgroundRepeat="no-repeat",e.style.backgroundSize="cover",e.style.backgroundAttachment="fixed",e.style.backgroundPosition="center",e}();function n(e){l()?t.style.backgroundImage=`${e.mobile}`:c()?t.style.backgroundImage=`${e.desktop}`:t.style.backgroundImage=`${e.tablet}`}document.body.append(t),n(e),function(){let t;t=l()?"mobile":c()?"desktop":"tablet",window.addEventListener("resize",(()=>{let o;o=l()?"mobile":c()?"desktop":"tablet",t!==o&&(t=o,n(e))}))}()}(async function(e,t){const n="space-tourism-data";let o;if(localStorage.getItem(n))console.log("Data have read from local storage"),o=JSON.parse(localStorage.getItem(n));else{console.log("Data have read from data.json and saved in local storage");const t=await fetch(e);o=await t.json(),localStorage.setItem(n,JSON.stringify(o))}return o[t]})(i,r).then((n=>{f=n;let o=f[0];switch(r){case"destination":e(b(f)).then((()=>{const e=sessionStorage.getItem("planet");e?(function(e){Array.from(document.querySelector(".destination__buttonsblock").querySelectorAll("input[type='radio']")).forEach((t=>{t.checked&&(t.checked=!1),t.id===e&&(t.checked=!0)}))}(e),k(f.find((t=>t.name===e)))):k(o),function(){const e=document.querySelector(".destination__buttonsblock");let t=!1;function n(e){return f.find((t=>t.name===e))}e.addEventListener("click",(function(e){if(2===e.button||"LABEL"!==e.target.tagName)return;const t=e.target.htmlFor;sessionStorage.setItem("planet",t),k(n(t),"transition"),v(".details-title")})),e.addEventListener("keydown",(function(o){"ArrowLeft"!==o.key&&"ArrowRight"!==o.key&&"ArrowUp"!==o.key&&"ArrowDown"!==o.key||(t=!0,setTimeout((()=>{const t=e.querySelector("input[type='radio']:checked + label").htmlFor;sessionStorage.setItem("planet",t),k(n(t),"transition"),v(".details-title")}),10))})),e.addEventListener("focusin",(e=>{t?e.currentTarget.firstElementChild.classList.add("tab-navigation"):e.currentTarget.firstElementChild.classList.remove("tab-navigation")})),window.addEventListener("keydown",(e=>{"Tab"===e.key&&(t=!0)})),window.addEventListener("mousedown",(()=>{t=!1}))}(),x()}));break;case"crew":e(b(f)).then((()=>{k(o),function(e,t){const n=document.querySelector(".crew__buttonsblock"),o=n.children;let i,s=0,a=l();function r(e){k(f[e],"transition"),w(o[e],o,"crew__button--checked"),s=e}function l(){return setInterval((()=>{s++,s>o.length-1&&(s=0),r(s)}),e)}n.addEventListener("click",(e=>{var n;2!==e.button&&"BUTTON"===e.target.tagName&&(r(e.target.dataset.slideIndex),n=t,clearInterval(a),clearTimeout(i),i=setTimeout((()=>{a=l()}),n))}))}(h,y),x(),M(g.crewPage)}));break;case"technology":e(b(f)).then((()=>{k(o),function(){let e=!1;window.addEventListener("resize",(()=>{const n=c();if(e!==n){e=n;const o=document.querySelector("#image"),i=document.querySelector("#name"),s=f.find((e=>e.name.toLowerCase()===i.innerText.toLowerCase())).images,r=a?t(s.portrait):s.portrait,l=a?t(s.landscape):s.landscape;c()?o.src=r:o.src=l}}))}(),function(){const e=document.querySelector(".technology__buttonsblock"),t=e.children;e.addEventListener("click",(function(e){const n=e.target,o=Array.from(t).indexOf(n);-1!==o&&(k(f[o],"transition"),w(e.target,t,"technology__button--checked"))}))}()}))}}))}window.log=e=>console.log(e),window.dir=e=>console.dir(e),new Promise((e=>{window.addEventListener("DOMContentLoaded",(()=>e()))})).then((()=>new Promise((e=>{!function(t){let n=new Image;n.onload=n.onerror=function(){!function(t){let n=!0===t?"webp":"no-webp";document.documentElement.classList.add(n),e(t)}(2==n.height)},n.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})))).then((e=>{(function(){const e=document.querySelector(".header"),t=function(){const e=document.createElement("div");return e.classList.add("mobile-menu-overlay"),e.hidden=!0,e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex=1,e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.transition="\n            background-color 0.5s ease-in-out\n        ",e.show=function(t){e.hidden=!1,t||setTimeout((()=>{this.style.backgroundColor="rgba(0, 0, 0, 0.15)"}),20)},e.hide=function(e){e?this.hidden=!0:(setTimeout((()=>{this.style.backgroundColor="rgba(0, 0, 0, 0)"}),20),setTimeout((()=>{this.hidden=!0}),500))},e}(),n=function(){const e=function(){const e=document.createElement("button");return e.id="burger-button",e.setAttribute("tabindex","1"),e.style.cursor="pointer",e.style.margin=0,e.style.padding=0,e.style.border="none",e.style.setProperty("--trans-time","0.5s"),e.style.outline="none",e.style.zIndex=3,e.style.position="relative",e.style.background="transparent",e.style.height="1.3125rem",e.style.width="1.5rem",e}();l()?e.hidden=!1:e.hidden=!0;const t=function(){const e=document.createElement("span"),t=document.createElement("span");e.classList.add("bar1"),t.classList.add("bar2");const n=[e,t],o=`\n                ${u} 0 0.5625rem 0 0\n            `,i="1.125rem",s=9/16+"rem";return n.forEach((e=>{e.style.display="block",e.style.position="absolute",e.style.backgroundColor=u,e.style.left=0,e.style.height=3/16+"rem",e.style.width="1.5rem",e.style.transition="0.5s"})),e.style.top=0,e.style.boxShadow=o,t.style.top=i,e.cross=()=>{e.style.boxShadow="transparent 0 0 0 0",e.style.top=s,e.style.transform="rotate(225deg)"},e.uncross=()=>{e.style.boxShadow=o,e.style.top="0",e.style.transform=""},t.cross=()=>{t.style.top=s,t.style.transform="rotate(315deg)"},t.uncross=()=>{t.style.top=i,t.style.transform=""},n}(),[n,o]=t;return e.appendChild(n),e.appendChild(o),e.cross=()=>{n.cross(),o.cross()},e.uncross=()=>{n.uncross(),o.uncross()},e.appear=()=>{e.hidden=!1},e.disappear=()=>{e.hidden=!0},e}(),o=((i=document.querySelector(".header__nav")).hide=e=>{e?i.hidden=!0:(setTimeout((()=>i.hidden=!0),500),a(i,500)),i.style.transform="translateX(100%)",i.classList.remove("opened")},i.show=e=>{i.hidden=!1,e?(i.style.transform="",i.classList.add("opened")):setTimeout((()=>{a(i,500),i.style.transform="",i.classList.add("opened")}),20)},i.toMobileView=()=>{i.style.position="absolute",i.style.top=0,i.style.right=0},i.toDesktopView=()=>{i.style.position="",i.style.top="",i.style.right="",i.show("no transition")},i.style.zIndex=2,l()?(i.toMobileView(),i.hide("to transition")):(i.toDesktopView(),i.show("no transition")),i);var i;e.appendChild(n),document.body.appendChild(t);const s={isMobileMode:l(),isOpened:!1,toMobile(){this.isMobileMode=!0},toDesktop(){this.isMobileMode=!1},open(){this.isOpened=!0},close(){this.isOpened=!1},log(){let e="";this.isMobileMode?(e+="Mobile mode: ",this.isOpened?log(e+="opened"):log(e+="closed")):(e+="Desktop mode",log(e))}};n.addEventListener("click",(()=>{s.isOpened?c():(n.cross(),o.show(),t.show(),s.open())})),t.addEventListener("click",(()=>{c()}));let r=l();function c(){n.uncross(),o.hide(),t.hide(),s.close()}visualViewport.addEventListener("resize",(()=>{r!==l()&&(r=l(),l()?(n.appear(),o.toMobileView(),s.isOpened?t.show("no transition"):o.hide("ho transition"),s.toMobile()):(n.disappear(),o.toDesktopView(),t.hide("no transition"),s.toDesktop()))})),function(...e){const t=[];e.forEach((e=>{"-1"!==e.getAttribute("tabindex")&&t.push(e)}));const n=t[0],i=t[t.length-1];window.addEventListener("keydown",(e=>{s.isMobileMode&&s.isOpened&&"Tab"===e.key&&o.classList.contains("opened")&&(e.shiftKey||e.target!==i||(e.preventDefault(),n.focus()),e.shiftKey&&e.target===n&&(e.preventDefault(),i.focus()))}))}(n,...o.querySelectorAll("a"))})(),p(d.jsonDataPath,e)}))})();