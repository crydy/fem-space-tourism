(()=>{"use strict";function t(t){const e=[];return t.forEach((t=>{const n=new Promise(((e,n)=>{const o=new Image;o.src=t,o.onload=e,o.onerror=n}));e.push(n)})),Promise.all(e)}function e(t){return t.replace(/(png|jpg)/g,"webp")}function n(t,e){let n=t+Math.random()*(e+1-t);return Math.floor(n)}function o(t,e,n=0){const o=Math.random()*(e-t)+t;if(n>0){const t=10**n;return Math.round(o*t)/t}return o}const i=new Map;function s(t,e,n){let o;i.has(t)||(a(t,250),t.classList.add(e)),n&&setTimeout((()=>{n()}),250),i.has(t)&&clearTimeout(i.get(t)),o=setTimeout((()=>{a(t,250),t.classList.remove(e),i.delete(t)}),300),i.has(t)||i.set(t,o)}function a(t,e,n){t.style.transition=n?`${n} ${e/1e3}s`:e/1e3+"s",t.transitionMode=n,setTimeout((()=>{t.transitionMode=null,t.style.transition=""}),e)}function r(t){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e);const n=window.getComputedStyle(e),o=parseFloat(n.fontSize),i={medium:n.getPropertyValue("--breakpoint-medium"),large:n.getPropertyValue("--breakpoint-large"),xlarge:n.getPropertyValue("--breakpoint-xlarge")};if(document.body.removeChild(e),"px"===t){const t={};for(const e in i)t[e]=parseFloat(i[e])*o;return t}return i}function l(){return!window.matchMedia(`(min-width: ${r().medium})`).matches}function c(){return window.matchMedia(`(min-width: ${r().large})`).matches}const d={jsonDataPath:"files/data.json",crewPageAutosliding:{slideInterval:8e3,slideDelayAfterUserClick:15e3},jsTransitionClasses:{text:"js-transition-text",image:"js-transition-image",imagePlanet:"js-transition-image-planet",imageTech:"js-transition-image-technology"},firstPlanIMGSet(t){const e=t?"webp":"png";return{homePage:{mobile:`url("./img/home/background-home-mobile-front.${e}")`,tablet:`url("./img/home/background-home-tablet-front.${e}")`,desktop:`url("./img/home/background-home-desktop-front.${e}")`},crewPage:{mobile:`url("./img/crew/background-crew-mobile-front.${e}")`,tablet:`url("./img/crew/background-crew-tablet-front.${e}")`,desktop:`url("./img/crew/background-crew-desktop-front.${e}")`}}}},u="#fff",m={numStarsOnStart:30,numStarsMax:50,movement:!0,minMoveSpeed:2,maxMoveSpeed:5,intervalTiming:1500,minAppearDuration:1e3,maxAppearDuration:6e3,minDisappearDuration:5e3,maxDisappearDuration:15e3,minTransitionDuration:1500,maxTransitionDuration:3e3,minStarSize:.5,maxStarSize:3.2,minOpacity:.7,maxOpacity:1,showHalo:!1,haloColor:"#fff",minHaloBlur:4,maxHaloBlur:15,minHaloOpacity:.4,maxHaloOpacity:.8};function p(i,a){const r=window.location.pathname.split("/").pop().split(".")[0],u=document.querySelectorAll("[data-js-fill]"),p=d.jsTransitionClasses,h=d.crewPageAutosliding.slideInterval,y=d.crewPageAutosliding.slideDelayAfterUserClick,g=d.firstPlanIMGSet(a);let f;if("index"===r)return x(),void S(g.homePage);function b(t){if("technology"===r){const n=[];return t.forEach((t=>{a?(n.push(e(t.images.portrait)),n.push(e(t.images.landscape))):(n.push(t.images.portrait),n.push(t.images.landscape))})),n}return t.map((t=>a?t.images.webp:t.images.png))}function w(t,e,n){Array.from(e).forEach((e=>{(e===t||e.classList.contains(n))&&e.classList.toggle(n),e===t&&e.setAttribute("tabindex","-1"),"-1"===e.getAttribute("tabindex")&&e!==t&&e.setAttribute("tabindex","0")}))}function k(t,n){u.forEach((o=>{if("image"===o.id){if(t.images.png){const i=a?"webp":"png",r=()=>{o.src=t.images[i],o.alt=`${t.name} photo`};if(n){const l="planet-image"===o.dataset.jsFill?p.imagePlanet:p.image;s(o,l,r)}else r()}if(t.images.portrait){const d=()=>{const n=a?e(t.images.portrait):t.images.portrait,i=a?e(t.images.landscape):t.images.landscape;o.src=c()?n:i,o.alt=`${t.name} photo`};if(n){const u=c()?p.image:p.imageTech;s(o,u,d)}else d()}}else{function m(){o.innerText=t[o.id]}n?s(o,p.text,m):m()}}))}function v(...t){t.forEach((t=>{document.querySelectorAll(t).forEach((t=>{s(t,"js-transition-text")}))}))}function x(){const t=function(){const t=document.createElement("div");return t.classList.add("space-overlay"),t.style.position="relative",t.style.position="fixed",t.style.zIndex="-1",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t}();document.body.appendChild(t),function(t,e=m){const{numStarsOnStart:i,numStarsMax:s,movement:a,minMoveSpeed:r,maxMoveSpeed:l,intervalTiming:c,minAppearDuration:d,maxAppearDuration:u,minDisappearDuration:p,maxDisappearDuration:h,minTransitionDuration:y,maxTransitionDuration:g,minStarSize:f,maxStarSize:b,minOpacity:w,maxOpacity:k,showHalo:v,haloColor:x,minHaloBlur:S,maxHaloBlur:M,minHaloOpacity:A,maxHaloOpacity:E}=e;function T(t,e,i,s){const a=n(M,S),r=document.createElement("div");if(r.classList.add("star"),r.style.position="absolute",r.style.zIndex="-1",r.style.width=t+"px",r.style.height=t+"px",r.style.backgroundColor=function(t=0,e=100,n=0,o=100){const i="0123456789ABCDEF";let s="#";const a=function(t,e,n){let o,i,s;if(t/=360,n/=100,0==(e/=100))o=i=s=n;else{const a=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),r=n<.5?n*(1+e):n+e-n*e,l=2*n-r;o=Math.round(255*a(l,r,t+1/3)),i=Math.round(255*a(l,r,t)),s=Math.round(255*a(l,r,t-1/3))}return[o,i,s]}(Math.floor(181*Math.random())+180,Math.floor(Math.random()*(e-t+1))+t,Math.floor(Math.random()*(o-n+1))+n);for(let t=0;t<3;t++)s+=i[Math.floor(a[t]/16)],s+=i[a[t]%16];return s}(2,14,40,90),r.style.borderRadius="50%",r.style.opacity=e,r.style.transition="opacity linear",r.style.left=i+"px",r.style.top=s+"px",v){const e=document.createElement("div");e.classList.add("halo"),e.style.position="absolute",e.style.width=t+"px",e.style.height=t+"px",e.style.borderRadius="50%",e.style.backgroundColor=x,e.style.filter=`blur(${a}px)`,e.style.opacity=o(A,E,1),r.appendChild(e)}return r}function L(t,e,n,o){if(t){const t=o/2;return Math.floor(Math.random()*(n-e-t+1))+e}return Math.floor(Math.random()*(n-e+1))+e}function C(t,e,n,o){if(t){const t=o/2;return Math.floor(Math.random()*(n-e-t+1))+e+t}return Math.floor(Math.random()*(n-e+1))+e}!function(){let e=!1;const m=()=>{const c=t.getBoundingClientRect(),m=c.left,v=c.right-b,x=c.top,S=c.bottom-b,M=c.left+c.width/2,A=c.top+c.height/2,E=t.querySelectorAll(".star").length;if(E>=s)return;const D=e?s-E:i;for(let I=0;I<D;I++){const P=o(f,b,1),O=L(a,m,v,P),$=C(a,x,S,P),j=n(d,u),z=n(p,h),q=o(w,k,1),_=o(y/1e3,g/1e3,1),B=T(P,q,O,$);B.style.transitionDuration=`${_}s`,t.appendChild(B),e&&(B.style.opacity=0),setTimeout((()=>{B.style.opacity=q,setTimeout((()=>{B.style.opacity=0,setTimeout((()=>{B.remove()}),1e3*_)}),z)}),j);const H=j+z+1e3*_;if(a){const V=B.getBoundingClientRect().left-M,R=B.getBoundingClientRect().top-A;let F=Math.sqrt(V**2+R**2)/o(r,l,1)*1e3;function U(){B.style.transition=`\n                            left ${F}ms linear,\n                            top ${F}ms linear,\n                            ${B.style.transition}\n                        `,B.style.left=`${O+V}px`,B.style.top=`${$+R}px`,setTimeout(U,F)}H>F&&(F=H),e?setTimeout((()=>{U()}),j):(U(),setTimeout((()=>{e=!0}),j))}}};m(),setInterval(m,c)}()}(t)}function S(t){const e=function(){const t=document.createElement("div");return t.classList.add("planet-in-front"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100%",t.style.zIndex=-1,t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundAttachment="fixed",t.style.backgroundPosition="center",t}();function n(t){l()?e.style.backgroundImage=`${t.mobile}`:c()?e.style.backgroundImage=`${t.desktop}`:e.style.backgroundImage=`${t.tablet}`}document.body.append(e),n(t),function(){let e;e=l()?"mobile":c()?"desktop":"tablet",window.addEventListener("resize",(()=>{let o;o=l()?"mobile":c()?"desktop":"tablet",e!==o&&(e=o,n(t))}))}()}(async function(t,e){const n="space-tourism-data";let o;if(localStorage.getItem(n))console.log("Data have read from local storage"),o=JSON.parse(localStorage.getItem(n));else{console.log("Data have read from data.json and saved in local storage");const e=await fetch(t);o=await e.json(),localStorage.setItem(n,JSON.stringify(o))}return o[e]})(i,r).then((n=>{f=n;let o=f[0];switch(r){case"destination":t(b(f)).then((()=>{const t=sessionStorage.getItem("planet");t?(function(t){Array.from(document.querySelector(".destination__buttonsblock").querySelectorAll("input[type='radio']")).forEach((e=>{e.checked&&(e.checked=!1),e.id===t&&(e.checked=!0)}))}(t),k(f.find((e=>e.name===t)))):k(o),function(){const t=document.querySelector(".destination__buttonsblock");let e=!1;function n(t){return f.find((e=>e.name===t))}t.addEventListener("click",(function(t){if(2===t.button||"LABEL"!==t.target.tagName)return;const e=t.target.htmlFor;sessionStorage.setItem("planet",e),k(n(e),"transition"),v(".details-title")})),t.addEventListener("keydown",(function(o){"ArrowLeft"!==o.key&&"ArrowRight"!==o.key&&"ArrowUp"!==o.key&&"ArrowDown"!==o.key||(e=!0,setTimeout((()=>{const e=t.querySelector("input[type='radio']:checked + label").htmlFor;sessionStorage.setItem("planet",e),k(n(e),"transition"),v(".details-title")}),10))})),t.addEventListener("focusin",(t=>{e?t.currentTarget.firstElementChild.classList.add("tab-navigation"):t.currentTarget.firstElementChild.classList.remove("tab-navigation")})),window.addEventListener("keydown",(t=>{"Tab"===t.key&&(e=!0)})),window.addEventListener("mousedown",(()=>{e=!1}))}(),x()}));break;case"crew":t(b(f)).then((()=>{k(o),function(t,e){const n=document.querySelector(".crew__buttonsblock"),o=n.children;let i,s=0,a=l();function r(t){k(f[t],"transition"),w(o[t],o,"crew__button--checked"),s=t}function l(){return setInterval((()=>{s++,s>o.length-1&&(s=0),r(s)}),t)}n.addEventListener("click",(t=>{var n;2!==t.button&&"BUTTON"===t.target.tagName&&(r(t.target.dataset.slideIndex),n=e,clearInterval(a),clearTimeout(i),i=setTimeout((()=>{a=l()}),n))}))}(h,y),x(),S(g.crewPage)}));break;case"technology":t(b(f)).then((()=>{k(o),function(){let t=!1;window.addEventListener("resize",(()=>{const n=c();if(t!==n){t=n;const o=document.querySelector("#image"),i=document.querySelector("#name"),s=f.find((t=>t.name.toLowerCase()===i.innerText.toLowerCase())).images,r=a?e(s.portrait):s.portrait,l=a?e(s.landscape):s.landscape;c()?o.src=r:o.src=l}}))}(),function(){const t=document.querySelector(".technology__buttonsblock"),e=t.children;t.addEventListener("click",(function(t){const n=t.target,o=Array.from(e).indexOf(n);-1!==o&&(k(f[o],"transition"),w(t.target,e,"technology__button--checked"))}))}()}))}}))}window.log=t=>console.log(t),window.dir=t=>console.dir(t),new Promise((t=>{window.addEventListener("DOMContentLoaded",(()=>t()))})).then((()=>new Promise((t=>{!function(e){let n=new Image;n.onload=n.onerror=function(){!function(e){let n=!0===e?"webp":"no-webp";document.documentElement.classList.add(n),t(e)}(2==n.height)},n.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})))).then((t=>{(function(){const t={isMobileMode:l(),isOpened:!1,isSwithing:!1,toMobile(){this.isMobileMode=!0},toDesktop(){this.isMobileMode=!1},open(){this.isOpened=!0},close(){this.isOpened=!1},startSwitching(){this.isSwithing=!0},stopSwitching(){this.isSwithing=!1},log(){let t="";this.isMobileMode?(t+="Mobile mode: ",this.isOpened?log(t+="opened"):log(t+="closed")):(t+="Desktop mode",log(t))}},e=document.querySelector(".header"),n=function(){const t=document.createElement("div");return t.classList.add("mobile-menu-overlay"),t.hidden=!0,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.zIndex=1,t.style.backgroundColor="rgba(0, 0, 0, 0)",t.style.transition="\n            background-color 0.5s ease-in-out\n        ",t.show=function(e){t.hidden=!1,e||setTimeout((()=>{this.style.backgroundColor="rgba(0, 0, 0, 0.15)"}),20)},t.hide=function(t){t?this.hidden=!0:(setTimeout((()=>{this.style.backgroundColor="rgba(0, 0, 0, 0)"}),20),setTimeout((()=>{this.hidden=!0}),500))},t}(),o=function(){const t=function(){const t=document.createElement("button");return t.id="burger-button",t.setAttribute("tabindex","1"),t.style.cursor="pointer",t.style.margin=0,t.style.padding=0,t.style.border="none",t.style.setProperty("--trans-time","0.5s"),t.style.outline="none",t.style.zIndex=3,t.style.position="relative",t.style.background="transparent",t.style.height="1.3125rem",t.style.width="1.5rem",t}();l()?t.hidden=!1:t.hidden=!0;const e=function(){const t=document.createElement("span"),e=document.createElement("span");t.classList.add("bar1"),e.classList.add("bar2");const n=[t,e],o=`\n                ${u} 0 0.5625rem 0 0\n            `,i="1.125rem",s=9/16+"rem";return n.forEach((t=>{t.style.display="block",t.style.position="absolute",t.style.backgroundColor=u,t.style.left=0,t.style.height=3/16+"rem",t.style.width="1.5rem",t.style.transition="0.5s"})),t.style.top=0,t.style.boxShadow=o,e.style.top=i,t.cross=()=>{t.style.boxShadow="transparent 0 0 0 0",t.style.top=s,t.style.transform="rotate(225deg)"},t.uncross=()=>{t.style.boxShadow=o,t.style.top="0",t.style.transform=""},e.cross=()=>{e.style.top=s,e.style.transform="rotate(315deg)"},e.uncross=()=>{e.style.top=i,e.style.transform=""},n}(),[n,o]=e;return t.appendChild(n),t.appendChild(o),t.cross=()=>{n.cross(),o.cross()},t.uncross=()=>{n.uncross(),o.uncross()},t.appear=()=>{t.hidden=!1},t.disappear=()=>{t.hidden=!0},t}(),i=((s=document.querySelector(".header__nav")).show=e=>{s.hidden=!1,"no transition"!==e&&(t.startSwitching(),setTimeout((()=>{a(s,500,"width"),s.style.width="254px"}),20),setTimeout((()=>{t.stopSwitching()}),500),t.isMobileMode&&(document.body.style.overflow="hidden"))},s.hide=e=>{"no transition"!==e?(t.startSwitching(),setTimeout((()=>{s.style.width="0",s.hidden=!0,t.stopSwitching()}),500),a(s,500,"width")):s.hidden=!0,s.style.width="0",document.body.style.overflow="auto"},s.toMobileView=()=>{s.style.position="absolute",s.style.overflow="hidden",s.style.top=0,s.style.right=0,s.style.zIndex=2,s.style.width=t.isOpened?"254px":"0"},s.toDesktopView=()=>{s.style.position="",s.style.overflow="",s.style.top="",s.style.right="",s.style.zIndex="",s.style.width="",s.show("no transition")},l()&&(s.toMobileView(),s.hide("no transition")),s);var s;e.appendChild(o),document.body.appendChild(n),o.addEventListener("click",(()=>{t.isSwithing||(t.isOpened?c():(o.cross(),i.show(),n.show(),t.open()))})),n.addEventListener("click",(()=>{c()}));let r=l();function c(){o.uncross(),i.hide(),n.hide(),t.close()}visualViewport.addEventListener("resize",(()=>{r!==l()&&(r=l(),l()?(o.appear(),i.toMobileView(),t.isOpened?n.show("no transition"):i.hide("no transition"),t.toMobile()):(o.disappear(),i.toDesktopView(),n.hide("no transition"),t.toDesktop()))})),function(...e){const n=[];e.forEach((t=>{"-1"!==t.getAttribute("tabindex")&&n.push(t)}));const o=n[0],i=n[n.length-1];window.addEventListener("keydown",(e=>{t.isMobileMode&&t.isOpened&&"Tab"===e.key&&(e.shiftKey||e.target!==i||(e.preventDefault(),o.focus()),e.shiftKey&&e.target===o&&(e.preventDefault(),i.focus()))}))}(o,...i.querySelectorAll("a"))})(),p(d.jsonDataPath,t)}))})();