(()=>{"use strict";function t(t){return t.replace(/(png|jpg)/g,"webp")}function e(t,e){let n=t+Math.random()*(e+1-t);return Math.floor(n)}function n(t,e,n=0){const o=Math.random()*(e-t)+t;if(n>0){const t=10**n;return Math.round(o*t)/t}return o}const o=new Map;function i(t,e,n){let i;o.has(t)||(s(t,250),t.classList.add(e)),n&&setTimeout((()=>{n()}),250),o.has(t)&&clearTimeout(o.get(t)),i=setTimeout((()=>{s(t,250),t.classList.remove(e),o.delete(t)}),300),o.has(t)||o.set(t,i)}function s(t,e,n){t.style.transition=n?`${n} ${e/1e3}s`:e/1e3+"s",t.transitionMode=n,setTimeout((()=>{t.transitionMode=null,t.style.transition=""}),e)}function a(t){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e);const n=window.getComputedStyle(e),o=parseFloat(n.fontSize),i={medium:n.getPropertyValue("--breakpoint-medium"),large:n.getPropertyValue("--breakpoint-large"),xlarge:n.getPropertyValue("--breakpoint-xlarge")};if(document.body.removeChild(e),"px"===t){const t={};for(const e in i)t[e]=parseFloat(i[e])*o;return t}return i}function r(){return!window.matchMedia(`(min-width: ${a().medium})`).matches}function l(){return window.matchMedia(`(min-width: ${a().large})`).matches}const c={jsonDataPath:"files/data.json",crewPageAutosliding:{slideInterval:8e3,slideDelayAfterUserClick:15e3},jsTransitionClasses:{text:"js-transition-text",image:"js-transition-image",imagePlanet:"js-transition-image-planet",imageTech:"js-transition-image-technology"},firstPlanIMGSet(t){const e=t?"webp":"png";return{homePage:{mobile:`url("./img/home/background-home-mobile-front.${e}")`,tablet:`url("./img/home/background-home-tablet-front.${e}")`,desktop:`url("./img/home/background-home-desktop-front.${e}")`},crewPage:{mobile:`url("./img/crew/background-crew-mobile-front.${e}")`,tablet:`url("./img/crew/background-crew-tablet-front.${e}")`,desktop:`url("./img/crew/background-crew-desktop-front.${e}")`}}}},d="#fff",u={numStarsOnStart:30,numStarsMax:50,movement:!0,minMoveSpeed:2,maxMoveSpeed:5,intervalTiming:1500,minAppearDuration:1e3,maxAppearDuration:6e3,minDisappearDuration:5e3,maxDisappearDuration:15e3,minTransitionDuration:1500,maxTransitionDuration:3e3,minStarSize:.5,maxStarSize:3.2,minOpacity:.7,maxOpacity:1,showHalo:!1,haloColor:"#fff",minHaloBlur:4,maxHaloBlur:15,minHaloOpacity:.4,maxHaloOpacity:.8};function m(o,s){const a=window.location.pathname.split("/").pop().split(".")[0],d=document.querySelectorAll("[data-js-fill]"),m=c.jsTransitionClasses,p=c.crewPageAutosliding.slideInterval,h=c.crewPageAutosliding.slideDelayAfterUserClick,y=c.firstPlanIMGSet(s);let g;if("index"===a)return k(),void v(y.homePage);function f(t,e,n){Array.from(e).forEach((e=>{(e===t||e.classList.contains(n))&&e.classList.toggle(n),e===t&&e.setAttribute("tabindex","-1"),"-1"===e.getAttribute("tabindex")&&e!==t&&e.setAttribute("tabindex","0")}))}function b(e,n){d.forEach((o=>{if("image"===o.id){if(e.images.png){const a=s?"webp":"png",r=()=>{o.src=e.images[a],o.alt=`${e.name} photo`};if(n){const c="planet-image"===o.dataset.jsFill?m.imagePlanet:m.image;i(o,c,r)}else r()}if(e.images.portrait){const d=()=>{const n=s?t(e.images.portrait):e.images.portrait,i=s?t(e.images.landscape):e.images.landscape;o.src=l()?n:i,o.alt=`${e.name} photo`};if(n){const u=l()?m.image:m.imageTech;i(o,u,d)}else d()}}else{function p(){o.innerText=e[o.id]}n?i(o,m.text,p):p()}}))}function w(...t){t.forEach((t=>{document.querySelectorAll(t).forEach((t=>{i(t,"js-transition-text")}))}))}function k(){const t=function(){const t=document.createElement("div");return t.classList.add("space-overlay"),t.style.position="relative",t.style.position="fixed",t.style.zIndex="-1",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t}();document.body.appendChild(t),function(t,o=u){const{numStarsOnStart:i,numStarsMax:s,movement:a,minMoveSpeed:r,maxMoveSpeed:l,intervalTiming:c,minAppearDuration:d,maxAppearDuration:m,minDisappearDuration:p,maxDisappearDuration:h,minTransitionDuration:y,maxTransitionDuration:g,minStarSize:f,maxStarSize:b,minOpacity:w,maxOpacity:k,showHalo:v,haloColor:x,minHaloBlur:M,maxHaloBlur:S,minHaloOpacity:A,maxHaloOpacity:L}=o;function T(t,o,i,s){const a=e(S,M),r=document.createElement("div");if(r.classList.add("star"),r.style.position="absolute",r.style.zIndex="-1",r.style.width=t+"px",r.style.height=t+"px",r.style.backgroundColor=function(t=0,e=100,n=0,o=100){const i="0123456789ABCDEF";let s="#";const a=function(t,e,n){let o,i,s;if(t/=360,n/=100,0==(e/=100))o=i=s=n;else{const a=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),r=n<.5?n*(1+e):n+e-n*e,l=2*n-r;o=Math.round(255*a(l,r,t+1/3)),i=Math.round(255*a(l,r,t)),s=Math.round(255*a(l,r,t-1/3))}return[o,i,s]}(Math.floor(181*Math.random())+180,Math.floor(Math.random()*(e-t+1))+t,Math.floor(Math.random()*(o-n+1))+n);for(let t=0;t<3;t++)s+=i[Math.floor(a[t]/16)],s+=i[a[t]%16];return s}(2,14,40,90),r.style.borderRadius="50%",r.style.opacity=o,r.style.transition="opacity linear",r.style.left=i+"px",r.style.top=s+"px",v){const e=document.createElement("div");e.classList.add("halo"),e.style.position="absolute",e.style.width=t+"px",e.style.height=t+"px",e.style.borderRadius="50%",e.style.backgroundColor=x,e.style.filter=`blur(${a}px)`,e.style.opacity=n(A,L,1),r.appendChild(e)}return r}function C(t,e,n,o){if(t){const t=o/2;return Math.floor(Math.random()*(n-e-t+1))+e}return Math.floor(Math.random()*(n-e+1))+e}function E(t,e,n,o){if(t){const t=o/2;return Math.floor(Math.random()*(n-e-t+1))+e+t}return Math.floor(Math.random()*(n-e+1))+e}!function(){let o=!1;const u=()=>{const c=t.getBoundingClientRect(),u=c.left,v=c.right-b,x=c.top,M=c.bottom-b,S=c.left+c.width/2,A=c.top+c.height/2,L=t.querySelectorAll(".star").length;if(L>=s)return;const D=o?s-L:i;for(let I=0;I<D;I++){const $=n(f,b,1),O=C(a,u,v,$),P=E(a,x,M,$),j=e(d,m),q=e(p,h),z=n(w,k,1),_=n(y/1e3,g/1e3,1),B=T($,z,O,P);B.style.transitionDuration=`${_}s`,t.appendChild(B),o&&(B.style.opacity=0),setTimeout((()=>{B.style.opacity=z,setTimeout((()=>{B.style.opacity=0,setTimeout((()=>{B.remove()}),1e3*_)}),q)}),j);const V=j+q+1e3*_;if(a){const H=B.getBoundingClientRect().left-S,R=B.getBoundingClientRect().top-A;let F=Math.sqrt(H**2+R**2)/n(r,l,1)*1e3;function U(){B.style.transition=`\n                            left ${F}ms linear,\n                            top ${F}ms linear,\n                            ${B.style.transition}\n                        `,B.style.left=`${O+H}px`,B.style.top=`${P+R}px`,setTimeout(U,F)}V>F&&(F=V),o?setTimeout((()=>{U()}),j):(U(),setTimeout((()=>{o=!0}),j))}}};u(),setInterval(u,c)}()}(t)}function v(t){const e=function(){const t=document.createElement("div");return t.classList.add("planet-in-front"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100%",t.style.zIndex=-1,t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundAttachment="fixed",t.style.backgroundPosition="center",t}();function n(t){r()?e.style.backgroundImage=`${t.mobile}`:l()?e.style.backgroundImage=`${t.desktop}`:e.style.backgroundImage=`${t.tablet}`}document.body.append(e),n(t),function(){let e;e=r()?"mobile":l()?"desktop":"tablet",window.addEventListener("resize",(()=>{let o;o=r()?"mobile":l()?"desktop":"tablet",e!==o&&(e=o,n(t))}))}()}(async function(t,e){const n="space-tourism-data";let o;if(localStorage.getItem(n))console.log("Data have read from local storage"),o=JSON.parse(localStorage.getItem(n));else{console.log("Data have read from data.json and saved in local storage");const e=await fetch(t);o=await e.json(),localStorage.setItem(n,JSON.stringify(o))}return o[e]})(o,a).then((e=>{g=e;let n=g[0];switch(a){case"destination":const e=sessionStorage.getItem("planet");e?(function(t){Array.from(document.querySelector(".destination__buttonsblock").querySelectorAll("input[type='radio']")).forEach((e=>{e.checked&&(e.checked=!1),e.id===t&&(e.checked=!0)}))}(e),b(g.find((t=>t.name===e)))):b(n),function(){const t=document.querySelector(".destination__buttonsblock");let e=!1;function n(t){return g.find((e=>e.name===t))}t.addEventListener("click",(function(t){if(2===t.button||"LABEL"!==t.target.tagName)return;const e=t.target.htmlFor;sessionStorage.setItem("planet",e),b(n(e),"transition"),w(".details-title")})),t.addEventListener("keydown",(function(o){"ArrowLeft"!==o.key&&"ArrowRight"!==o.key&&"ArrowUp"!==o.key&&"ArrowDown"!==o.key||(e=!0,setTimeout((()=>{const e=t.querySelector("input[type='radio']:checked + label").htmlFor;sessionStorage.setItem("planet",e),b(n(e),"transition"),w(".details-title")}),10))})),t.addEventListener("focusin",(t=>{e?t.currentTarget.firstElementChild.classList.add("tab-navigation"):t.currentTarget.firstElementChild.classList.remove("tab-navigation")})),window.addEventListener("keydown",(t=>{"Tab"===t.key&&(e=!0)})),window.addEventListener("mousedown",(()=>{e=!1}))}(),k();break;case"crew":b(n),function(t,e){const n=document.querySelector(".crew__buttonsblock"),o=n.children;let i,s=0,a=l();function r(t){b(g[t],"transition"),f(o[t],o,"crew__button--checked"),s=t}function l(){return setInterval((()=>{s++,s>o.length-1&&(s=0),r(s)}),t)}n.addEventListener("click",(t=>{var n;2!==t.button&&"BUTTON"===t.target.tagName&&(r(t.target.dataset.slideIndex),n=e,clearInterval(a),clearTimeout(i),i=setTimeout((()=>{a=l()}),n))}))}(p,h),k(),v(y.crewPage);break;case"technology":b(n),function(){let e=!1;window.addEventListener("resize",(()=>{const n=l();if(e!==n){e=n;const o=document.querySelector("#image"),i=document.querySelector("#name"),a=g.find((t=>t.name.toLowerCase()===i.innerText.toLowerCase())).images,r=s?t(a.portrait):a.portrait,c=s?t(a.landscape):a.landscape;l()?o.src=r:o.src=c}}))}(),function(){const t=document.querySelector(".technology__buttonsblock"),e=t.children;t.addEventListener("click",(function(t){const n=t.target,o=Array.from(e).indexOf(n);-1!==o&&(b(g[o],"transition"),f(t.target,e,"technology__button--checked"))}))}()}}))}window.log=t=>console.log(t),window.dir=t=>console.dir(t),new Promise((t=>{window.addEventListener("DOMContentLoaded",(()=>t()))})).then((()=>new Promise((t=>{!function(e){let n=new Image;n.onload=n.onerror=function(){!function(e){let n=!0===e?"webp":"no-webp";document.documentElement.classList.add(n),t(e)}(2==n.height)},n.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})))).then((t=>{(function(){const t=document.querySelector(".header"),e=function(){const t=document.createElement("div");return t.classList.add("mobile-menu-overlay"),t.hidden=!0,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.zIndex=1,t.style.backgroundColor="rgba(0, 0, 0, 0)",t.style.transition="\n            background-color 0.5s ease-in-out\n        ",t.show=function(e){t.hidden=!1,e||setTimeout((()=>{this.style.backgroundColor="rgba(0, 0, 0, 0.15)"}),20)},t.hide=function(t){t?this.hidden=!0:(setTimeout((()=>{this.style.backgroundColor="rgba(0, 0, 0, 0)"}),20),setTimeout((()=>{this.hidden=!0}),500))},t}(),n=function(){const t=function(){const t=document.createElement("button");return t.id="burger-button",t.setAttribute("tabindex","1"),t.style.cursor="pointer",t.style.margin=0,t.style.padding=0,t.style.border="none",t.style.setProperty("--trans-time","0.5s"),t.style.outline="none",t.style.zIndex=3,t.style.position="relative",t.style.background="transparent",t.style.height="1.3125rem",t.style.width="1.5rem",t}();r()?t.hidden=!1:t.hidden=!0;const e=function(){const t=document.createElement("span"),e=document.createElement("span");t.classList.add("bar1"),e.classList.add("bar2");const n=[t,e],o=`\n                ${d} 0 0.5625rem 0 0\n            `,i="1.125rem",s=9/16+"rem";return n.forEach((t=>{t.style.display="block",t.style.position="absolute",t.style.backgroundColor=d,t.style.left=0,t.style.height=3/16+"rem",t.style.width="1.5rem",t.style.transition="0.5s"})),t.style.top=0,t.style.boxShadow=o,e.style.top=i,t.cross=()=>{t.style.boxShadow="transparent 0 0 0 0",t.style.top=s,t.style.transform="rotate(225deg)"},t.uncross=()=>{t.style.boxShadow=o,t.style.top="0",t.style.transform=""},e.cross=()=>{e.style.top=s,e.style.transform="rotate(315deg)"},e.uncross=()=>{e.style.top=i,e.style.transform=""},n}(),[n,o]=e;return t.appendChild(n),t.appendChild(o),t.cross=()=>{n.cross(),o.cross()},t.uncross=()=>{n.uncross(),o.uncross()},t.appear=()=>{t.hidden=!1},t.disappear=()=>{t.hidden=!0},t}(),o=((i=document.querySelector(".header__nav")).hide=t=>{t?i.hidden=!0:(setTimeout((()=>i.hidden=!0),500),s(i,500)),i.style.transform="translateX(100%)",i.classList.remove("opened")},i.show=t=>{i.hidden=!1,t?(i.style.transform="",i.classList.add("opened")):setTimeout((()=>{s(i,500),i.style.transform="",i.classList.add("opened")}),20)},i.toMobileView=()=>{i.style.position="absolute",i.style.top=0,i.style.right=0},i.toDesktopView=()=>{i.style.position="",i.style.top="",i.style.right="",i.show("no transition")},i.style.zIndex=2,r()?(i.toMobileView(),i.hide("to transition")):(i.toDesktopView(),i.show("no transition")),i);var i;t.appendChild(n),document.body.appendChild(e);const a={isMobileMode:r(),isOpened:!1,toMobile(){this.isMobileMode=!0},toDesktop(){this.isMobileMode=!1},open(){this.isOpened=!0},close(){this.isOpened=!1},log(){let t="";this.isMobileMode?(t+="Mobile mode: ",this.isOpened?log(t+="opened"):log(t+="closed")):(t+="Desktop mode",log(t))}};n.addEventListener("click",(()=>{a.isOpened?c():(n.cross(),o.show(),e.show(),a.open())})),e.addEventListener("click",(()=>{c()}));let l=r();function c(){n.uncross(),o.hide(),e.hide(),a.close()}visualViewport.addEventListener("resize",(()=>{l!==r()&&(l=r(),r()?(n.appear(),o.toMobileView(),a.isOpened?e.show("no transition"):o.hide("ho transition"),a.toMobile()):(n.disappear(),o.toDesktopView(),e.hide("no transition"),a.toDesktop()))})),function(...t){const e=[];t.forEach((t=>{"-1"!==t.getAttribute("tabindex")&&e.push(t)}));const n=e[0],i=e[e.length-1];window.addEventListener("keydown",(t=>{a.isMobileMode&&a.isOpened&&"Tab"===t.key&&o.classList.contains("opened")&&(t.shiftKey||t.target!==i||(t.preventDefault(),n.focus()),t.shiftKey&&t.target===n&&(t.preventDefault(),i.focus()))}))}(n,...o.querySelectorAll("a"))})(),m(c.jsonDataPath,t)}))})();